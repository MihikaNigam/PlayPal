<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="/styles/page.css" />
    <link rel="stylesheet" href="/styles/reset.css" />
    <link rel="stylesheet" href="/styles/tokens.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <script type="importmap">
      {
        "imports": {
          "@calpoly/mustang": "https://unpkg.com/@calpoly/mustang"
        }
      }
    </script>
    <script type="module">
      import { define } from "@calpoly/mustang";
      import { GameInstanceElement } from "/scripts/game_instance.js";
      import { GamerProfileElement } from "/scripts/gamer_profile.js";
      import { HeaderElement } from "/scripts/pp_header.js";
      define({
        "game-instance": GameInstanceElement,
        "pp-header": HeaderElement,
      });
      HeaderElement.initializeOnce();
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const label = document.getElementById("dark-mode-label");
        const checkbox = label.querySelector('input[type="checkbox"]');

        function relayEvent(event) {
          event.stopPropagation();
          const customEvent = new CustomEvent("darkmode:toggle", {
            bubbles: true,
            detail: { checked: event.target.checked },
          });

          label.dispatchEvent(customEvent);
        }
        checkbox.addEventListener("change", relayEvent);

        document.body.addEventListener("darkmode:toggle", function (event) {
          document.body.classList.toggle("dark-mode", event.detail.checked);
        });
      });
    </script>
  </head>
  <body>
    <!-- <header>
      <h1>PlayPal</h1>
      <p>Connect with gamers</p>
      <label id="dark-mode-label">
        <input type="checkbox" autocomplete="off" />
        Dark mode
      </label>
    </header> -->
    <pp-header></pp-header>
    <section class="grid-container">
      <div class="flex-container">
        <div>
          <h2>Games</h2>
          <!-- <game-instance>
            <a slot="game-title" href="game/apex.html">Apex Legends</a>
            <img
              slot="game-image"
              src="https://shared.steamstatic.com/store_item_assets/steam/apps/1172470/header.jpg?t=1727104892"
              alt="Apex Image"
            />
            <a slot="game-lobby-link-1" href="teams/lobby.html">LMG Abusers</a>
            <a slot="game-lobby-link-2" href="teams/lobby.html"
              >Olympus Enjoyers</a
            >
          </game-instance> -->
          <a href="games/672db68d8232f52a313ff9f1"
            ><game-instance
              src="/api/games/672db68d8232f52a313ff9f1"
            ></game-instance
          ></a>
          <div>
            <game-instance>
              <a slot="game-title" href="game/overwatch.html"
                >Overwatch Lobbies</a
              >
              <img
                slot="game-image"
                src="https://i.ytimg.com/vi/dZl1yGUetjI/hqdefault.jpg"
                alt="Overwatch Image"
              />
              >
            </game-instance>
          </div>
          <a href="games/672daf34fdc12930d0677e8c">
            <game-instance src="/api/games/672daf34fdc12930d0677e8c">
            </game-instance
          ></a>
        </div>
      </div>

      <div class="flex-container">
        <h2>Gamers</h2>
        <ul>
          <li>
            <!-- <svg class="icon">
              <use href="/icons/controller.svg#icon-bald-gamer" />
            </svg> -->
            <a href="gamers/672db9498d0b83141da663a5">Person 1</a>
          </li>
          <li><a href="gamer/672db9498d0b83141da663a5">Person 2</a></li>
          <li><a href="gamer/profile.html">Person 3</a></li>
        </ul>
      </div>
    </section>
  </body>
</html>
